---
public:
  net.ipv4.ip_local_port_range: 1024 65535
  net.ipv4.ip_forward: 0
  net.core.somaxconn: 65535
  net.core.netdev_max_backlog: 65535
  net.ipv4.tcp_mem: 3480768 4641024 6961536
  net.ipv4.tcp_rmem: 4096 87380 2097152
  net.ipv4.tcp_wmem: 4096 87380 2097152
  net.core.rmem_default: 31457280
  net.core.wmem_default: 31457280
  net.core.rmem_max: 134217728
  net.core.wmem_max: 134217728
  net.core.optmem_max: 25165824
  fs.file-max: 25165824
  fs.nr_open:  25165824
  vm.swappiness: 10
  vm.vfs_cache_pressure: 50

kuber:
  net.bridge.bridge-nf-call-iptables: 1
  net.bridge.bridge-nf-call-ip6tables: 1
  net.ipv4.ip_forward: 1
  vm.swappiness: 0
  vm.overcommit_memory: 0
  net.core.netdev_max_backlog: 65535
  net.ipv4.tcp_max_syn_backlog: 65535
  net.core.somaxconn: 65535
  net.ipv4.tcp_rmem: 4096 87380 2097152
  net.ipv4.tcp_wmem: 4096 87380 2097152
  net.ipv4.tcp_mem: 3480768 4641024 26777216
  net.ipv4.ip_local_port_range: 1024 65535
  net.core.rmem_default: 31457280
  net.core.wmem_default: 31457280
  net.core.optmem_max: 25165824

haproxy:
  net.core.netdev_max_backlog: 65535
  net.ipv4.tcp_max_syn_backlog: 65535
  net.core.somaxconn: 65535
  net.ipv4.tcp_syn_retries: 1
  net.ipv4.tcp_fin_timeout: 15
  kernel.threads-max: 3261780
  fs.file-max: 10000000
  fs.nr_open: 10000000
  net.ipv4.tcp_window_scaling: 1
  net.core.rmem_max: 134217728
  net.core.wmem_max: 134217728
  net.ipv4.tcp_rmem: 4096 87380 2097152
  net.ipv4.tcp_wmem: 4096 87380 2097152
  net.ipv4.conf.all.accept_redirects: 0
  net.ipv4.conf.all.secure_redirects: 0
  net.ipv4.conf.all.send_redirects: 0
  net.ipv4.conf.lo.accept_source_route: 0
  net.ipv4.conf.default.accept_source_route: 0
  net.ipv4.tcp_max_orphans: 500000
  net.ipv4.tcp_keepalive_time: 30
  net.ipv4.tcp_keepalive_intvl: 15
  net.ipv4.tcp_keepalive_probes: 5
  net.ipv4.tcp_synack_retries: 2
  net.ipv4.tcp_mem: 3480768 4641024 26777216
  net.ipv4.tcp_orphan_retries: 1
  net.ipv4.tcp_syncookies: 1
  net.ipv4.tcp_timestamps: 1
  net.ipv4.tcp_sack: 1
  net.ipv4.tcp_congestion_control: htcp
  net.ipv4.tcp_no_metrics_save: 1
  net.ipv4.route.flush: 1
  net.ipv4.ip_local_port_range: 1024 65535
  net.ipv4.tcp_tw_reuse: 1
  net.ipv4.tcp_max_tw_buckets: 1440000
  net.ipv4.tcp_rfc1337: 1
  net.ipv4.icmp_echo_ignore_broadcasts: 1
  net.ipv4.icmp_echo_ignore_all: 0
  net.ipv4.icmp_ignore_bogus_error_responses: 1
  net.ipv4.tcp_retries2: 6
  net.ipv4.tcp_retries1: 3
  net.core.rmem_default: 31457280
  net.core.wmem_default: 31457280
  net.core.optmem_max: 25165824